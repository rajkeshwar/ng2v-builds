{"version":3,"file":"observe-content.js","sourceRoot":"","sources":["../../../../src/lib/core/observe-content/observe-content.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EACL,SAAS,EACT,UAAU,EACV,QAAQ,EAER,MAAM,EACN,YAAY,EAGb,MAAM,eAAe,CAAC;AAEvB;;;GAGG;AAIH,IAAa,cAAc;IAMzB,wBAAoB,WAAuB;QAAvB,gBAAW,GAAX,WAAW,CAAY;QAH3C,8DAA8D;QACjC,UAAK,GAAG,IAAI,YAAY,EAAQ,CAAC;IAEhB,CAAC;IAE/C,2CAAkB,GAAlB;QAAA,iBAQC;QAPC,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAAC,UAAA,SAAS,IAAI,OAAA,SAAS,CAAC,OAAO,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAjB,CAAiB,CAAC,EAA1C,CAA0C,CAAC,CAAC;QAE/F,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE;YACrD,aAAa,EAAE,IAAI;YACnB,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;SACd,CAAC,CAAC;IACL,CAAC;IAED,oCAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QAC9B,CAAC;IACH,CAAC;IACH,qBAAC;AAAD,CAAC,AAvBD,IAuBC;AAnB8B;IAA5B,MAAM,CAAC,mBAAmB,CAAC;;6CAAkC;AAJnD,cAAc;IAH1B,SAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;KAChC,CAAC;qCAOiC,UAAU;GANhC,cAAc,CAuB1B;SAvBY,cAAc;AA6B3B,IAAa,oBAAoB;IAAjC;IAQA,CAAC;IAPC,kBAAkB;IACX,4BAAO,GAAd;QACE,MAAM,CAAC;YACL,QAAQ,EAAE,sBAAoB;YAC9B,SAAS,EAAE,EAAE;SACd,CAAC;IACJ,CAAC;IACH,2BAAC;AAAD,CAAC,AARD,IAQC;AARY,oBAAoB;IAJhC,QAAQ,CAAC;QACR,OAAO,EAAE,CAAC,cAAc,CAAC;QACzB,YAAY,EAAE,CAAC,cAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAQhC;SARY,oBAAoB","sourcesContent":["import {\r\n  Directive,\r\n  ElementRef,\r\n  NgModule,\r\n  ModuleWithProviders,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  AfterContentInit\r\n} from '@angular/core';\r\n\r\n/**\r\n * Directive that triggers a callback whenever the content of\r\n * its associated element has changed.\r\n */\r\n@Directive({\r\n  selector: '[cdkObserveContent]'\r\n})\r\nexport class ObserveContent implements AfterContentInit, OnDestroy {\r\n  private _observer: MutationObserver;\r\n\r\n  /** Event emitted for each change in the element's content. */\r\n  @Output('cdkObserveContent') event = new EventEmitter<void>();\r\n\r\n  constructor(private _elementRef: ElementRef) {}\r\n\r\n  ngAfterContentInit() {\r\n    this._observer = new MutationObserver(mutations => mutations.forEach(() => this.event.emit()));\r\n\r\n    this._observer.observe(this._elementRef.nativeElement, {\r\n      characterData: true,\r\n      childList: true,\r\n      subtree: true\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._observer) {\r\n      this._observer.disconnect();\r\n    }\r\n  }\r\n}\r\n\r\n@NgModule({\r\n  exports: [ObserveContent],\r\n  declarations: [ObserveContent]\r\n})\r\nexport class ObserveContentModule {\r\n  /** @deprecated */\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ObserveContentModule,\r\n      providers: []\r\n    };\r\n  }\r\n}\r\n"]}